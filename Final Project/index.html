<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="./css/styles.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css">
    <link rel="shortcut icon" 
      type="image/x-icon" 
      href="./images/favicon.ico">
    <title>Fly for Miles</title>
</head>
<body>
    <header>
        <a href="./index.html" class="home">Fly for Miles</a>
    </header>
    <main>
        <section id="getStarted">
            <i class="fas fa-plane-departure"></i>
            <p>Think it's time to use your miles?</p>
            <p>Find out if that's the right move.</p>
            <button class="primary" id="start">Get going</button>
        </section>
        <section id="basicQuestions">
            <i class="fas fa-plane"></i>
            <div class="questions">
                <label for="miles">Miles required</label>
                <input type="number" name="number of miles" id="miles" class="numberInput" maxlength="7" required>
                <label for="price">Cost in dollars</label>
                <span id="currency">$</span>
                <input type="number" name="cost in dollars" id="price" class="numberInput" step="0.01" value="0.00" placeholder="0.00" onfocus="this.value=''" required>
                <label for="airline">Airline's Miles</label>
                <select id="airline">
                    <option disabled selected value="">Select an airline</option>
                </select>
            </div>
            <div>

            </div>
            <button class="primary" id="basic">Check</button>
        </section>
        <div id="progress">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -101 713.75189 713">
                <path id="plane-path" fill-opacity="0" stroke-width="5" stroke="#821019" d="m85.085938 304.40625c-6.144532 2.882812-8.855469 10.140625-6.117188 16.34375l28.066406 60.25c1.378906 3 3.894532 5.335938 6.988282 6.488281 1.355468.492188 2.792968.746094 4.238281.746094 1.808593.015625 3.59375-.371094 5.238281-1.117187l212.054688-99.046876-19.207032 200.824219c-.371094 3.953125 1.152344 7.839844 4.109375 10.480469 9.296875 7.695312 20.882813 12.078125 32.9375 12.472656 3.324219-.003906 6.628907-.421875 9.851563-1.242187 17.214844-4.492188 30.5625-19.832031 39.667968-46.03125l83.449219-247.101563 165.273438-77.09375c48.648437-22.699218 73.71875-68.726562 56.882812-104.652344-9.554687-18.777343-27.855469-31.550781-48.773437-34.054687-23.242188-3.507813-46.996094.148437-68.105469 10.484375l-190.726563 89.433594-205.0625-80.207032c-25.824218-9.726562-46.277343-9.476562-60.621093.878907-12.035157 9.875-18.882813 24.71875-18.589844 40.285156.125 3.949219 2.113281 7.601563 5.363281 9.859375l138.082032 94.921875-79.078126 37.421875-132.601562-33.683594c-5.433594-1.335937-11.089844 1.113282-13.84375 5.988282l-33.050781 59.496093c-1.714844 3.152344-1.984375 6.894531-.738281 10.261719 1.238281 3.371094 3.871093 6.039062 7.226562 7.328125l98.167969 40.542969zm57.121093-248.09375c.734375-5.273438 3.402344-10.074219 7.488281-13.472656 7.113282-5.117188 20.085938-4.367188 37.421876 2.117187l182.617187 71.226563-83.328125 38.917968zm-112.257812 180.117188 21.703125-38.542969 127.605468 31.679687c2.75.695313 5.652344.433594 8.238282-.742187l414.75-193.71875c16.488281-8.132813 35.058594-11.09375 53.261718-8.484375 12.765626 1.175781 24.136719 8.542968 30.4375 19.707031 10.46875 22.457031-10.109374 55.261719-44.914062 71.476563l-143.695312 67.363281 8.734374-25.828125c2.207032-6.644532-1.398437-13.824219-8.042968-16.027344-6.652344-2.203125-13.828125 1.402344-16.03125 8.046875l-102.660156 305.476563c-6.113282 17.34375-13.722657 27.699218-22.203126 29.9375-5.253906 1.011718-10.691406-.019532-15.21875-2.863282l24.949219-261.953125c.652344-6.886719-4.398437-13-11.292969-13.652343-6.886718-.660157-13 4.398437-13.65625 11.285156l-3.863281 40.039062-214.054687 99.789063-17.578125-37.421875 35.167969-16.460938c4.527343-1.996094 7.445312-6.472656 7.445312-11.414062 0-4.945313-2.917969-9.421875-7.445312-11.414063zm0 0"/>
            </svg>
          </div>
        <section id="results">
                <i class="fas fa-plane-arrival"></i>
            <span id="greatIdea">
                <h2>That's a great idea!</h2>
                <p>Based on those numbers you'll get an outsized value for your miles.</p>
            </span>
            <span id="maybe">
                <h2>Maybe, just maybe</h2>
                <p>Based on those numbers you'll get about what your miles are worth. You can always try for better.</p>
            </span>
            <span id="dontDoIt">
                <h2>I wouldn't if I were you</h2>
                <p>Based on those numbers this isn't a great redemption value. Unless you're strapped for cash and really need the free flight, look a little harder!</p>
            </span>
            <span id="fixedMiles">
                <h2>Fixed Value Miles</h2>
                <p>jetBlue and Southwest offer something more like a rebate as miles than other airlines. If you have what you need to redeem, do it!</p>
            </span>
            <span id="variableMiles">
                <h3>Variable Value Miles</h3>
                <p>Most airlines offer the kind of miles that make you wonder if you're getting a good deal. If you're getting less than 1.5cents per mile of value, it's probably best to keep trying.</p>
            </span>
            <span id="additionalConsiderations">
                <h3>Additional Considerations</h3>
                <h4>Class of Service</h4>
                <p>Sometimes it's worth sitting up front. Sometimes it's not. If you have the miles for a premium cabin, check out which seats and what services are offered. It could mean the difference between a flat bed seat and a transfer in a luxury car to a lounge or a not-so-free beer and a pack of pretzels. For the difference you could possibly have a whole other trip!</p>
                <h4>Length of Flight</h4>
                <p>This comes down to availablity, sense of adventure, and personal preference. Sometimes a layover is worth it to break up a long trip. Other times it's more of a hassle than the ability to stretch your legs is worth.</p>
                <h4>Taxes, Fees, and their Evil Friends</h4>
                <p>Taxes and fees can vary based on how you use your miles. Some airlines demand huge fuel surcharges for mileage redemptions, which can make paying for the flight more appealing than using miles. Sometimes it just means trying a different airline (e.g. using American AAdvantage miles to fly on American instead of British Airways).</p>
            </span>
        </section>
    </main>
    <footer>
        <nav>
            <a href="./about.html">About</a>
        </nav>
    </footer>
    <script   src="https://code.jquery.com/jquery-3.3.1.min.js"   integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="   crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/progressbar.js/1.0.1/progressbar.min.js" crossorigin="anonymous"></script>
    <script>
        $(document).ready(function(){
            let miles = '';
            let cost = '';
            const airlines = [
                {carrier: 'Alaska', milesValue: 1.8, pointsType: 'variable'},
                {carrier: 'American', milesValue: 1.4, pointsType: 'variable'},
                {carrier: 'Delta', milesValue: 1.2, pointsType: 'variable'},
                {carrier: 'jetBlue', milesValue: 1.3, pointsType: 'fixed'},
                {carrier: 'Southwest', milesValue: 1.5, pointsType: 'fixed'},
                {carrier: 'United', milesValue: 1.4, pointsType: 'variable'}
            ];
            for (i=0; i < airlines.length; i++) {
                $('#airline').append(`<option value="${i}">${airlines[i].carrier}</option>`);
            };
            $('#start').click(function(){
                $('#getStarted').css('display', 'none');
                $('#basicQuestions').slideToggle();
            })
            $('#basic').click(function(){
                let miles = parseInt($('#miles').val());
                let cost = parseFloat($('#price').val()) * 100;
                var cpm = cost/miles;
                let val = $('#airline :selected').val();

                drawPlane()
                $('#progress').show();
                
                setInterval(function(){
                    $('#progress').addClass('rotated animated lightSpeedOut');
                }, 5000)
                
                setInterval(function(){
                    $('#progress').hide();
                }, 6000)

                if (cpm < airlines[val].milesValue) {
                    $('#dontDoIt').slideToggle();
                } else if (cpm === airlines[val].milesValue) {
                    $('#maybe').slideToggle();
                } else if (cpm > airlines[val].milesValue) {
                    $('#greatIdea').slideToggle();
                }
                if (airlines[val].pointsType == 'fixed') {
                    $('#fixedMiles').slideToggle();
                    $('#dontDoIt').css('display', 'none');
                    $('#maybe').css('display', 'none');
                    $('#greatIdea').css('display', 'none');
                }  else if  (airlines[val].pointsType == 'variable') {
                    $('#variableMiles').slideToggle();
                } else {
                    $('#fixedmiles').css('display' , 'none');
                    $('#variablemiles').css('display' , 'none');
                };
                $('#basicQuestions').css('display', 'none');
                $('#results').slideToggle();
            });
            $('#extraQuestions').click(function(){
                $(this).toggle();
                $('#additionalQuestions').slideToggle();
            });
            $('.home').click(function(){
                $('#getStarted').css('display', 'unset');
                $('#basicQuestions').css('display', 'none');
                $('#additionalQuestions').css('display', 'none');
                $('#results').css('display', 'none');
            });
            function drawPlane() {
                var bar = new ProgressBar.Path('#plane-path', {
                    easing: 'easeInOut',
                    duration: 8000
                    });
                bar.set(0);
                bar.animate(1.0); 
            } 
        });
    </script>
</body>
</html>